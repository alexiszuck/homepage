{"version":3,"sources":["homepage.js"],"names":["visit","vc","document","getElementById","u","console","log","fetch","method","mode","cache","credentials","redirect","referrer","then","res","ok","json","Error","innerHTML","visits","catch","error","createFolder","cf","cfm","data","foldername","value","headers","body","JSON","stringify","status"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA,SAASA,KAAT,GAAiB;AACf,MAAIC,EAAE,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAT;AACA,MAAIC,CAAC,qFAAL;AACFC,EAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACEG,EAAAA,KAAK,CAACH,CAAD,EAAI;AACPI,IAAAA,MAAM,EAAE,KADD;AAEPC,IAAAA,IAAI,EAAE,MAFC;AAGPC,IAAAA,KAAK,EAAE,UAHA;AAIPC,IAAAA,WAAW,EAAE,aAJN;AAKPC,IAAAA,QAAQ,EAAE,QALH;AAKa;AACpBC,IAAAA,QAAQ,EAAE,aANH,CAMkB;;AANlB,GAAJ,CAAL,CAQCC,IARD,CAQM,UAAAC,GAAG,EAAI;AACX,QAAIA,GAAG,CAACC,EAAR,EAAY,OAAOD,GAAG,CAACE,IAAJ,EAAP;AACZ,UAAM,IAAIC,KAAJ,CAAU,8BAAV,CAAN;AACD,GAXD,EAYCJ,IAZD,CAYM,UAAAC,GAAG,EAAI;AACXd,IAAAA,EAAE,CAACkB,SAAH,GAAeJ,GAAG,CAACK,MAAnB;AACD,GAdD,EAeCC,KAfD,CAeO,UAAAC,KAAK,EAAI;AACdrB,IAAAA,EAAE,CAACkB,SAAH,GAAe,GAAf,CADc,CAEd;AACD,GAlBD;AAmBD;;AAED,SAASI,YAAT,GAAwB;AACtB,MAAIC,EAAE,GAAGtB,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,CAAT;AACA,MAAIsB,GAAG,GAAGvB,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAAV;AACA,MAAIuB,IAAI,GAAG;AAAEC,IAAAA,UAAU,EAAEH,EAAE,CAACI;AAAjB,GAAX;AACArB,EAAAA,KAAK,CAAC,uBAAD,EAA0B;AAC7BC,IAAAA,MAAM,EAAE,MADqB;AACb;AAChBC,IAAAA,IAAI,EAAE,MAFuB;AAEf;AACdC,IAAAA,KAAK,EAAE,UAHsB;AAGV;AACnBC,IAAAA,WAAW,EAAE,aAJgB;AAID;AAC5BkB,IAAAA,OAAO,EAAE;AACP,sBAAgB,iCADT,CAEP;;AAFO,KALoB;AAS7BjB,IAAAA,QAAQ,EAAE,QATmB;AAST;AACpBC,IAAAA,QAAQ,EAAE,aAVmB;AAUJ;AACzBiB,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAXuB,CAWD;;AAXC,GAA1B,CAAL,CAaCZ,IAbD,CAaM,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACE,IAAJ,EAAJ;AAAA,GAbT,EAcCH,IAdD,CAcM,UAAAC,GAAG,EAAI;AACXU,IAAAA,GAAG,CAACN,SAAJ,GAAgBJ,GAAG,CAACkB,MAApB;AACD,GAhBD,EAiBCZ,KAjBD,CAiBO,UAAAC,KAAK;AAAA,WAAIjB,OAAO,CAACiB,KAAR,CAAc,QAAd,EAAwBA,KAAxB,CAAJ;AAAA,GAjBZ;AAkBD;;AAED,CAAC,YAAU;AACTtB,EAAAA,KAAK,GADI,CAET;AACA;AACA;AACA;AACD,CAND","file":"homepage.4caec701.map","sourceRoot":"..","sourcesContent":["/* global fetch */\n\nfunction visit() {\n  let vc = document.getElementById(\"visitCount\");\n  let u = `${process.env.ENDPOINT_PREFIX}/.netlify/functions/visit`;\nconsole.log(u);\n  fetch(u, {\n    method: \"GET\",\n    mode: \"cors\",\n    cache: \"no-cache\",\n    credentials: \"same-origin\",\n    redirect: \"follow\", // manual, *follow, error\n    referrer: \"no-referrer\", // no-referrer, *client\n  })\n  .then(res => {\n    if (res.ok) return res.json();\n    throw new Error('Network response was not ok.');\n  })\n  .then(res => {\n    vc.innerHTML = res.visits;\n  })\n  .catch(error => {\n    vc.innerHTML = '-';\n    //console.error(error);\n  });\n}\n\nfunction createFolder() {\n  let cf = document.getElementById(\"createFolderInput\");\n  let cfm = document.getElementById(\"createFolderMsg\");\n  let data = { foldername: cf.value };\n  fetch('/dropbox/createfolder', {\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n    mode: \"cors\", // no-cors, cors, *same-origin\n    cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: \"same-origin\", // include, same-origin, *omit\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n      //\"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n    redirect: \"follow\", // manual, *follow, error\n    referrer: \"no-referrer\", // no-referrer, *client\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n  })\n  .then(res => res.json())\n  .then(res => {\n    cfm.innerHTML = res.status;\n  })\n  .catch(error => console.error('Error:', error));\n}\n\n(function(){\n  visit();\n  // document.getElementById(\"createFolderSubmit\").addEventListener(\"click\", function(e) {\n  //   e.preventDefault();\n  //   createFolder();\n  // });\n})();"]}